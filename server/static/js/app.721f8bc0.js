(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],m=0,d=[];m<r.length;m++)s=r[m],a[s]&&d.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"266f":function(t,e,n){"use strict";var i=n("3021"),a=n.n(i);a.a},3021:function(t,e,n){},"3fff":function(t,e,n){t.exports=n.p+"img/no.ed89879d.png"},4735:function(t,e,n){},"4ab1":function(t,e,n){},"4ee8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNBNAaMQAAAFkSURBVGhD5ZXJboMwFEWddoUw/AJLvojvofMsdd0hHdPvTI9Vu3KoRZMw2eZIT9cLCNx7H4ooimKV5/l6jlOW5b2oquowSZIvIcR6TiOlvEN/0CGsODovjm3SNL1FN5lLCDT/17yhrusDQvjk6Lw59KH5G7QdvQnRhUDz/5u3UJvwgTp/LLSh+Wt0N/TnEHwIWZbtbt4i6BBo/grtht6Ed47Oh/g6NN/dvEVQIdD8JdovoWwCzfdv3kKF8IY6Hz710PwFOix6E7wLYZC1b8GrEEZpvonehFeOzpcaayYxbzFpCJg/RydHhfCCOl9yqPHFvGHUEPirO0O9Y5QQaN5L84ZBQ8D8Keo9KoQl6jSx74Ri3tBrCKGZNywI4Rl1mtp2MH+CBkunEEI3b9grBMwfo9GgQnhCnWabE5t5w1YhYP4IjZbWEGI3b1hg9BHdMC+lrNHZoDbhN4S5NN9EbcLDtM0L8Q1pyyCEkYbT5AAAAABJRU5ErkJggg=="},"4f1d":function(t,e,n){"use strict";var i=n("93ed"),a=n.n(i);a.a},5058:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS40E0BoxAAAAohJREFUWEfNmMtu00AUhi1gAysQbLi8AxLJTCJUyTC2xIYNiEjwIpR2wwYoS0ojLs/ARap4Ei4PQLksaLnGGVFYYP4zObRNfFrZZDL2L32Klbmc32OfmfFE/6P8ZrTPpro7NHoRPBsm+s0wUV+zRP8m6Nr9Z9RT/C7Yc50OteHms5ON9SkYuJsZ9RGB8ypkRr8DS9Z0T3J3/jSIW8cwUg8Q4JcUvAqjPlT/R6KOcvfTKTuvr6HjjclAHtiA2R6Hqa48jg9kiXokdOwZ1c97vf0ctpzyi61DuLsXcof+wUCs/ul2D3L4vcUjtyp1NEsoZqmRRIY+ljoIgtHLbENWZjpXxYYBGRh9he2Mi9Ied/BZahQUo9e/z80dYVvbwgT8UGxQC2qFbY3kVggPk7Av4GXTpmdPsD169/SSVLFOkKx3nDlaxJHiH6RKdYJBW3MbDLcrESo0AZu0VYSsWZQKG0GqblD2PhcLG4F6EuECm02pcBzfkmIUMPo1DLrdr1xhB74lxSiAhYOmmFLzn29JMSYhb8032PhHTC+iWDiBb0kxChj1igzSZ6NcoXZG08xCsaAhGH29+UsdbxbeSxXqBJ7ebp1GIJ2bt91K1G1njkTHEWXnwxDA3M/hhTPH2d5IyJi+VLkWjL7PtrbFH03rYoOQGPXpW3z6MNsaFx5zT2wUEGvUJbYji4ZXahgGdY9t7C46fsBL2tyjDxId5IQ0SbFKHx79E91NkMeNGJWP33aKzkpmkt3I1kHavsxhphOdleAFXkGWb4rBKuAmYaOXd51KppFbcbAEweiaFHwvqA2+IG8VVohZiBZxa1oaj2me9my0sQRfaLkk6Br/v+SyeZuq9tbCX0lR9Be4fP682uhsUAAAAABJRU5ErkJggg=="},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("List"),n("AddItem"),n("Elevator")],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("Search",{on:{input:t.onSearchInput}}),n("ul",{staticClass:"list-grid"},t._l(t.displayItems,function(t){return n("Item",{key:t.id,attrs:{id:t.id,name:t.name,amount:t.amount,path:t.path,found:t.found}})}),1)],1)},r=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("input",{staticClass:"search-box",attrs:{type:"text",name:"name",placeholder:"Search..."},on:{input:function(e){t.$emit("input",e.target.value)}}})])},c=[],u={name:"Search"},m=u,d=(n("4f1d"),n("2877")),h=Object(d["a"])(m,l,c,!1,null,null,null);h.options.__file="Search.vue";var p=h.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"item",class:t.itemClass,on:{mouseleave:function(e){t.dialogHidden=!0}}},[i("div",{staticClass:"item-img-wrapper"},[i("img",{staticClass:"item-img",attrs:{src:t.path,alt:""}}),i("div",{staticClass:"item-img-delete-overlay"},[i("img",{staticClass:"item-img-delete-btn",class:{"hidden-dialog":!this.dialogHidden},attrs:{src:n("ed3a"),alt:""},on:{click:function(e){t.dialogHidden=!1}}}),i("div",{staticClass:"delete-confirmation-dialog",class:{"hidden-dialog":this.dialogHidden}},[i("span",[t._v("Are you sure?")]),i("br"),i("img",{attrs:{src:n("8254"),alt:""},on:{click:t.onDelete}}),i("img",{attrs:{src:n("3fff"),alt:""},on:{click:function(e){t.dialogHidden=!0}}})])])]),i("div",{staticClass:"item-name"},[i("span",[t._v(t._s(t.name)+" "+t._s(t.id))])]),i("Quantity",{attrs:{amount:t.amount},on:{change:t.amountChanged}})],1)},A=[],g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"quantity"},[i("a",{staticClass:"quantity-minus",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.$emit("change",-1)}}},[i("img",{attrs:{src:n("5058"),alt:""}})]),i("span",{staticClass:"quantity-amount"},[t._v(t._s(t.amount))]),i("a",{staticClass:"quantity-plus",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.$emit("change",1)}}},[i("img",{attrs:{src:n("e359"),alt:""}})])])},v=[],b={name:"Quantity",props:{amount:{type:Number,required:!0}}},C=b,I=(n("7b42"),Object(d["a"])(C,g,v,!1,null,null,null));I.options.__file="Quantity.vue";var w=I.exports;const y="http://192.168.1.17:3000/api",E={Base:y,Item:{Add:y+"/add",Remove:y+"/remove",Decrease:y+"/decrease",Increase:y+"/increase",GetAll:y+"/get-items"}},S={Item:{Add:"added-item",Remove:"removed-item",Decrease:"decrease-item",Increase:"increase-item"}};var B=n("cf05"),x=n.n(B),O={name:"Item",props:{id:{type:Number,required:!0},name:{type:String,required:!0},amount:{type:Number,required:!0},path:{type:String,required:!0},found:{type:Boolean,required:!0}},data(){return{dialogHidden:!0}},computed:{itemClass(){return{"item-not-found":!this.found}}},methods:{onDelete(){console.log("onDeleteClick"),fetch(E.Item.Remove,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.id,defaultImage:this.path===x.a})}).then(t=>t.json()).then(t=>{t.error?console.error(t.info):(console.log("Server successfully removed item with id: ",this.id),this.$root.$emit(S.Item.Remove,this.id))})},amountChanged(t){const e=t>0?E.Item.Increase:E.Item.Decrease,n=t>0?S.Item.Increase:S.Item.Decrease;this.amount+t<0?console.log("Can't decrease item below 0"):fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.id})}).then(t=>{return 200==t.status?(this.$root.$emit(n,this.id),"Server successfully increased/decreased item count. Emit "+n+" event."):t.text()}).then(t=>{console.log(t)})}},components:{Quantity:w}},j=O,T=(n("9926"),Object(d["a"])(j,f,A,!1,null,null,null));T.options.__file="Item.vue";var G=T.exports,R=n("ffe7"),k=n.n(R),N=new k.a([],{shouldSort:!0,threshold:.6,keys:["name"]}),P={name:"List",data(){return{listItems:[],searchString:""}},computed:{displayItems:function(){N.setCollection(this.listItems);let t=N.search(this.searchString),e=[];for(let n of this.listItems){const i=!!t.find(t=>n.id==t.id);n.found=i||""===this.searchString,!1===i&&e.push(n)}return t=t.concat(e),t}},mounted(){this.getItems(),this.$root.$on(S.Item.Add,t=>{this.listItems.push(t)}),this.$root.$on(S.Item.Remove,t=>{this.listItems.splice(this.listItems.findIndex(e=>e.id===t),1)}),this.$root.$on(S.Item.Increase,t=>{this.listItems.find(e=>e.id===t).amount++}),this.$root.$on(S.Item.Decrease,t=>{this.listItems.find(e=>e.id===t).amount--})},methods:{onSearchInput(t){this.searchString=t,this.scrollToTop()},scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"})},getItems(){fetch(E.Item.GetAll).then(t=>t.json()).then(t=>{this.listItems=t})}},components:{Search:p,Item:G}},H=P,J=(n("266f"),Object(d["a"])(H,s,r,!1,null,null,null));J.options.__file="List.vue";var U=J.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-item"},[n("form",{staticClass:"add-form",on:{submit:function(e){return e.preventDefault(),t.addItem(e)}}},[n("label",{staticClass:"image-input-wrapper",attrs:{for:"image"}},[t._v("\n      Click image to change.\n      "),n("input",{staticClass:"image-input",attrs:{type:"file",name:"image",accept:"image/*"},on:{change:t.onImageChange}}),n("img",{staticClass:"preview-image",attrs:{src:t.previewImageURL,alt:""},on:{click:t.openFileInput}})]),n("div",{staticClass:"name-amount-wrapper"},[t._m(0),n("label",{staticClass:"amount-label",attrs:{for:"amount"}},[t._v(" \n        Amount:"),n("br"),n("Quantity",{staticClass:"add-item-quantity",attrs:{amount:t.amount},on:{change:t.amountChanged}})],1)]),n("button",{staticClass:"item-submit-btn",attrs:{type:"submit"}},[t._v("Add new item")])])])},D=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"name-label",attrs:{for:"name"}},[t._v("\n        Item name:"),n("br"),n("input",{attrs:{type:"text",name:"name",required:"",pattern:"[A-Za-z ]+",maxlength:"50"}})])}],Y={name:"AddItem",data(){return{previewImageURL:x.a,amount:0}},methods:{openFileInput(t){t.target.previousSibling.click()},onImageChange(t){this.setImagePreview(URL.createObjectURL(t.target.files[0]));var e=document.body,n=document.documentElement,i=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);window.scrollTo({top:i,left:0,behavior:"smooth"})},setImagePreview(t){this.previewImageURL=t},amountChanged(t){this.amount+t<0?console.log("Can't decrease item below 0"):this.amount+=t},addItem(t){console.log("Client sending POST request to add new item.");const e=t.target.elements,n={name:e.name.value,amount:this.amount,path:x.a};let i=new FormData;e.image.files.length>0&&i.append("image",e.image.files[0]),i.append("info",JSON.stringify(n)),fetch(E.Item.Add,{method:"POST",body:i}).then(t=>t.json()).then(t=>{t.error?console.error(t.info):(n.id=t.id,n.path=t.path,console.log("Server has added item: ",n),this.$root.$emit(S.Item.Add,n))})}},components:{Quantity:w}},M=Y,Q=(n("671d"),Object(d["a"])(M,Z,D,!1,null,null,null));Q.options.__file="AddItem.vue";var _=Q.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"elevator",on:{click:t.scrollToBottom}},[i("img",{attrs:{src:n("4ee8"),alt:""}})])},L=[],V={name:"Elevator",data(){return{scrollPercentage:0}},methods:{scrollToBottom(){var t=document.body,e=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);window.scrollTo({top:n,left:0,behavior:"smooth"})}}},q=V,z=(n("581b"),Object(d["a"])(q,F,L,!1,null,null,null));z.options.__file="Elevator.vue";var K=z.exports,X=(n("87b8"),{name:"app",data(){return{}},components:{List:U,AddItem:_,Elevator:K}}),W=X,$=(n("7c55"),Object(d["a"])(W,a,o,!1,null,null,null));$.options.__file="App.vue";var tt=$.exports;i["a"].config.productionTip=!1;new i["a"]({el:"#app",render:function(t){return t(tt)}})},"581b":function(t,e,n){"use strict";var i=n("4ab1"),a=n.n(i);a.a},"5c48":function(t,e,n){},"5e39":function(t,e,n){},"671d":function(t,e,n){"use strict";var i=n("4735"),a=n.n(i);a.a},"7b42":function(t,e,n){"use strict";var i=n("cffa"),a=n.n(i);a.a},"7c55":function(t,e,n){"use strict";var i=n("5c48"),a=n.n(i);a.a},8254:function(t,e,n){t.exports=n.p+"img/yes.098bbfc6.png"},"87b8":function(t,e,n){},"93ed":function(t,e,n){},9926:function(t,e,n){"use strict";var i=n("5e39"),a=n.n(i);a.a},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},cffa:function(t,e,n){},e359:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS40E0BoxAAAAsBJREFUWEfNmEtuE0EQhi1eC3a8VsApEBGsskMRM6F7JFvhsecKRGy8i1mTSCFwghBNDyGBLWdIgAPw2pCENbCBv8YVR7b/trrt8ci/9Ekjd3VVpbpT3TONcdR63Tq9mGe3ksI8TQuTJ85+Tp39hee/JXjGb5/KMdiIbbvdPqXTpydTmOsI/gzBf6SF/ReFs99l7kKeXVN31Sl9m15GNV6iGn9o8AjEB1gXn+p+MiGxh+CIBZsErMKB+NYw8cI+Owcnr5jzKkGMFzc2Hp/VsGFC+c9jGd4zh1PB2XcSU8OPVlm5OpM7xtntoErWsaw+ZLk1Da4kzx6xifViljSdfi1sNq9gaQ/5pPqQ/27r7CVN60RSXjYhBJ+YbQgo1Jqm1ZWcEPhx7CbsE7MNQXJJdpKrmh7aCo4gZhiKT8w2FCTZKZOTQ7w8J4lRKD4x21Cw5b6WFwwkd5sZxOATs40BSc41UEpcmbhBKD4x2yicXZYKOjoYgU/MNgpnt6S94GJJBgeoWizGMOajVBA3YTbYT9ViMQbB9juUPRjU/6oWizGI5Db7Cc78EstGZIODVC0WYwhn9yXBnA5G4BOzjaJsMzPcqO8W5klDXqrZYAw+Mdso8uxm97JQmG/UIBCfmG0ovcuCCMvcYUah+MRswzErZXIi+RwR2g8ZPjHbIJz93XdhFSHBdWocgE/MNgyzqmmdSF5UpDHyCXVift7ZbF7UtPq16OwDPqk+Epe1NB2u1JkNNrEWnH2uafglnz5guE0dTBPElA+jmsZoyYcc7IVd6mgKYO/vBH88OpZ8yJnkZT4cszr/Yf6Mho1Xkmf3kegBdz4+4jN5c6+pYSaTtqC1SZp5DzRhqVqym1xQ99VJT5wO/vovNPgIunPMytAJMQ3JIY6Ac6jGMtgC+wh+JBXuVhnPzu7JmFyZ5FbSO/ij1Gj8B8mL7P+S1wnTAAAAAElFTkSuQmCC"},ed3a:function(t,e,n){t.exports=n.p+"img/delete.d5f7c497.png"}});
//# sourceMappingURL=app.721f8bc0.js.map